<div class="container mx-auto px-4">
  <div
    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-6"
  >
    @for (product of displayedProducts(); track product.id) {
      <div
        class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300"
      >
        <div class="relative aspect-square overflow-hidden">
          <img
            [ngSrc]="product.imageUrl"
            [alt]="product.name"
            fill
            priority
            class="object-cover"
          />
        </div>
        <div class="p-4">
          <h3 class="text-md font-semibold text-gray-900 mb-2">
            {{ product.name }}
          </h3>
          <p class="text-gray-700 text-md mb-2 line-clamp-2">
            {{ product.description }}
          </p>
          <div class="flex justify-between items-center">
            <span class="text-lg font-bold text-primary">
              {{ product.price | currency: 'USD' : 'symbol' : '1.2-2' }}
            </span>
            <button
              (click)="addToCart(product)"
              class="bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark transition-colors duration-300"
              type="button"
            >
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    }
  </div>
</div>

<div class="container mx-auto px-4 flex justify-center mt-6">
  <mat-paginator
    (page)="handlePageEvent($event)"
    [length]="totalItems()"
    [pageSize]="pageSize()"
    [pageSizeOptions]="pageSizeOptions"
    [showFirstLastButtons]="true"
    aria-label="Select page"
    class="mat-mdc-elevation-specific mat-elevation-z2 w-full max-w-3xl"
  >
  </mat-paginator>
</div>
